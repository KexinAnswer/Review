# 哈希表

## 概念

地址index = H(key)

hash 函数就是根据key计算出应该存储地址的位置，而哈希表就是基于哈希函数建立的一种查找表

## 构造方法

### 直接定址法

哈希函数为关键字的线性函数如 H(key) = a * key + b

这种构造方法比较简单，均匀。但是有很大限制，仅限于地址大小=关键字集合的情况

使用距离

假设需要统计中国人口的年龄分布，以10为最小单位。今年是 2019 年，那么10岁以内的分布在 2009-2019，20岁以内的分布在 1999-2019 假设 2019 代表 2019-2009 直接的数据，那么关键字应该是 2019，2009， 1999，那么可以构造哈希函数 H = (2018-key)/10 = 201 - key / 10

### 数字分析法

假设关键字集合中的每个关键字 key 都是由 s 位数字组成, (k1, k2, k3, ... , kn)，分析 key 中的全体数据，并从中提取分布均匀的若干位或者他们的组合构成全体

使用举例

我们知道身份证号是有规律的，现在我们要存储一个班级学生的身份证号码，假设这个班级的学生都出生在同一个地区，同一年，那么他们的身份证的前面数位都是相同的，那么我们可以截取后面不同的几位存储，假设有 5 位不同，那么就用这 5 位代表地址

H (key) = key % 100000

此种方法同城用于数字位数比较长的情况，必须数字存在一定规律， 其必须知道数字的分布情况，比如上面的例子，我们实现知道这个班级的学生出生在同一年，同一个区域

### 平方取中法

如果关键字的每一位都有某一些数字重复出现频率很高的现象，可以先求关键字的平方值，通过品投放扩大差异，而后取中间数作为最终存储地址

### 折叠法

如果数字的位数很多，可以将数字分割为几个部分，取他们的叠加和作为 hash 地址

使用举例

key = 123 456 789

我们可以存储在 61524 取末三位， 存在 524 的位置

该方法适用于数字位数比较多且实现不知道数据分布的情况

### 除留余数法

H (key) = key mod p (p <= m m为表长)

很明显，如何取选取 p 是个关键问题

使用距离 比如我们存储 3 6 9 那么就不能取 3

因为 3 mod 3 == 6 mod 3 == 9 mod 3

p 应为不大于m的质数或是不含 20 以下质因子的合数，这样可以减少地址的重复冲突

### 开散列

可以在哈希表中每个节点挂载一个链表，红黑树，哈希表

